.ORIG x3000

LD R0, NUM1
LDR R0, R0, #0
LD R1, NUM2
LDR R1, R1, #0
LD R2, MASK

AND R0, R0, R2
AND R1, R1, R2

ADD R3, R0, R1
NOT R4, R1
ADD R4, R4, #1; R4 has negative of NUM2
ADD R4, R4, R0

LD R5, SUM
STR R3, R5, #0
LD R6, DIFF
STR R4, R6, #0

HALT

NUM1 .FILL x4000
NUM2 .FILL x4001
SUM .FILL x4002
DIFF .FILL x4003
MASK .FILL x0FFF

.END
